/* =================================================
   NETFLIX STYLE UI (FULL)
   - Dark cinematic theme + Netflix red accent
   - Animations: bgBreath, shimmer, fadeIn, slideUp, loader spin
   - iOS Safari fix: poster tidak "gepeng"
================================================= */

/* -------------------------------
   RESET & BASE
--------------------------------- */
* { margin: 0; padding: 0; box-sizing: border-box; }

html, body { height: 100%; }

:root{
  --bg: #0b0f17;
  --bg2:#070a10;
  --panel:#0f1623;
  --panel2:#121b2b;
  --stroke: rgba(255,255,255,0.08);
  --stroke2: rgba(255,255,255,0.12);
  --text: #e5e7eb;
  --muted:#a7b0c0;

  /* Netflix-ish red */
  --accent:#e50914;
  --accent2:#ff3b30;

  --shadow: 0 18px 55px rgba(0,0,0,0.75);
  --radius: 18px;
}

body{
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow: hidden; /* scroll ada di grid-feed */
}

/* -------------------------------
   CINEMATIC BACKGROUND
--------------------------------- */
.bg-cinema{
  position: fixed;
  inset: 0;
  z-index: -2;
  background:
    radial-gradient( circle at 12% 20%, rgba(229, 9, 20, 0.18), transparent 55%),
    radial-gradient( circle at 80% 70%, rgba(88, 101, 242, 0.12), transparent 60%),
    radial-gradient( circle at 50% 40%, rgba(15, 23, 42, 0.7), transparent 60%),
    linear-gradient(180deg, var(--bg2), var(--bg));
  animation: bgBreath 16s ease-in-out infinite alternate;
}

@keyframes bgBreath {
  0%   { transform: translate3d(0,0,0) scale(1); opacity: 0.92; }
  50%  { transform: translate3d(-8px,8px,0) scale(1.02); opacity: 1; }
  100% { transform: translate3d(6px,-6px,0) scale(1.01); opacity: 0.96; }
}

.bg-noise{
  position: fixed;
  inset: 0;
  z-index: -1;
  opacity: 0.06;
  pointer-events: none;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.5'/%3E%3C/svg%3E");
}

/* -------------------------------
   LAYOUT SHELL
--------------------------------- */
.app-shell{
  height: 100vh;
  display: flex;
  flex-direction: column;
}

/* -------------------------------
   TOPBAR (Netflix vibe)
--------------------------------- */
.topbar{
  position: sticky;
  top: 0;
  z-index: 50;
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;

  background: linear-gradient(to bottom, rgba(11,15,23,0.95), rgba(11,15,23,0.72));
  backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--stroke);
}

.brand{ display:flex; flex-direction:column; gap:2px; }
.brand-logo{
  font-size: 20px;
  font-weight: 900;
  letter-spacing: 0.3px;
}
.brand-logo span{ color: var(--accent); }
.brand-sub{
  font-size: 11px;
  color: var(--muted);
  opacity: 0.85;
}

.topbar-actions{ display:flex; align-items:center; gap: 10px; }

.icon-btn{
  width: 38px;
  height: 38px;
  border-radius: 999px;
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition: transform .12s ease, border-color .15s ease, background .15s ease;
}
.icon-btn i{ font-size: 18px; }
.icon-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.55);
  background: rgba(229,9,20,0.08);
}

/* -------------------------------
   HERO (Netflix banner card)
--------------------------------- */
.hero{
  position: relative;
  padding: 12px 14px 6px;
}
.hero-bg{
  position:absolute;
  inset: 12px 14px 8px 14px;
  border-radius: 22px;
  overflow:hidden;
  border: 1px solid var(--stroke);
  background:
    radial-gradient(circle at 30% 20%, rgba(229, 9, 20, 0.22), transparent 55%),
    radial-gradient(circle at 80% 60%, rgba(99, 102, 241, 0.14), transparent 60%),
    linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
  box-shadow: var(--shadow);
}
.hero-glow{
  position:absolute;
  inset:-80px;
  background:
    radial-gradient(circle at 20% 30%, rgba(229,9,20,0.35), transparent 45%),
    radial-gradient(circle at 80% 70%, rgba(88,101,242,0.22), transparent 55%);
  filter: blur(16px);
  opacity: 0.7;
}
.hero-vignette{
  position:absolute;
  inset:0;
  background:
    linear-gradient(to right, rgba(0,0,0,0.65), rgba(0,0,0,0.2)),
    linear-gradient(to bottom, rgba(0,0,0,0.25), rgba(0,0,0,0.65));
}

.hero-content{
  position: relative;
  z-index: 2;
  padding: 26px 18px 18px 18px;
}

.hero-pill{
  display: inline-flex;
  align-items:center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke2);
  background: rgba(0,0,0,0.25);
  font-weight: 800;
  font-size: 12px;
  color: #fff;
}
.hero-pill i{ color: var(--accent); font-size: 16px; }

.hero-title{
  margin-top: 12px;
  font-size: 22px;
  font-weight: 950;
  letter-spacing: .2px;
  line-height: 1.15;
  text-shadow: 0 8px 25px rgba(0,0,0,0.85);
}
.hero-desc{
  margin-top: 8px;
  max-width: 620px;
  font-size: 13px;
  color: rgba(229,231,235,0.86);
  line-height: 1.45;
}

.hero-actions{
  margin-top: 14px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.btn{
  border: none;
  outline: none;
  cursor: pointer;
  border-radius: 14px;
  padding: 10px 14px;
  display:inline-flex;
  align-items:center;
  gap: 8px;
  font-weight: 900;
  font-size: 13px;
  transition: transform .12s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
}
.btn i{ font-size: 18px; }

.btn-primary{
  background: var(--accent);
  color: #fff;
  box-shadow: 0 16px 40px rgba(229,9,20,0.25);
}
.btn-primary:hover{
  transform: translateY(-1px);
  box-shadow: 0 20px 50px rgba(229,9,20,0.3);
}

.btn-ghost{
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke2);
  color: #fff;
}
.btn-ghost:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.45);
  background: rgba(229,9,20,0.08);
}

/* -------------------------------
   ADS
--------------------------------- */
.ad-slot{
  width: 100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 6px 0;
  opacity: 0.95;
}
.ad-top{ padding-top: 2px; }

.ad-floating{
  position: fixed;
  bottom: 66px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 60;
  max-width: 340px;
  padding: 6px 10px;
  border-radius: 16px;
  background: rgba(15,22,35,0.92);
  border: 1px solid var(--stroke2);
  box-shadow: 0 18px 44px rgba(0,0,0,0.85);
  backdrop-filter: blur(14px);
}

/* -------------------------------
   FILTER CHIPS
--------------------------------- */
.filters{
  padding: 8px 14px 8px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}
.filters-left, .filters-right{
  display:flex;
  align-items:center;
  gap: 10px;
}

.chip{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.04);
  color: rgba(229,231,235,0.92);
  padding: 9px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  display:inline-flex;
  align-items:center;
  gap: 8px;
  cursor:pointer;
  transition: transform .12s ease, border-color .15s ease, background .15s ease;
}
.chip i{ font-size: 16px; opacity: 0.95; }
.chip:hover{ transform: translateY(-1px); }
.chip.active{
  border-color: rgba(229,9,20,0.55);
  background: rgba(229,9,20,0.12);
  color: #fff;
  box-shadow: 0 0 24px rgba(229,9,20,0.15);
}
.chip-outline{ background: transparent; }

/* -------------------------------
   GRID FEED (Netflix poster grid)
--------------------------------- */
.grid-feed{
  flex: 1;
  overflow-y: auto;
  padding: 10px 14px 130px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(158px, 1fr));
  gap: 14px;
  align-content: flex-start;
  contain: layout paint;
}

.grid-feed::-webkit-scrollbar{ width: 4px; }
.grid-feed::-webkit-scrollbar-track{ background: transparent; }
.grid-feed::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.14);
  border-radius: 999px;
}

/* -------------------------------
   STREAM CARD (main.js bisa inject HTML)
   Support class:
   - .stream-card + .card-poster img + .card-overlay + .card-info
   - old: .video-card + .card-inner (tetap supported di bawah)
--------------------------------- */
.stream-card{
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.03);
  box-shadow: 0 14px 34px rgba(0,0,0,0.7);
  cursor: pointer;
  transform: translateY(10px);
  opacity: 0;
  animation: cardEnter .28s ease forwards;
}
@keyframes cardEnter{
  to { transform: translateY(0); opacity: 1; }
}

.stream-card:hover{
  transform: translateY(-4px) scale(1.02);
  border-color: rgba(229,9,20,0.45);
  box-shadow: 0 22px 60px rgba(0,0,0,0.85), 0 0 28px rgba(229,9,20,0.12);
}

/* iOS FIX: poster ratio lock */
.card-poster{
  position: relative;
  width: 100%;
  overflow: hidden;
  border-radius: var(--radius);
}
.card-poster::before{
  content:"";
  display:block;
  padding-top: 150%; /* 2/3 poster */
}

.card-poster > img,
.card-poster > .card-overlay,
.card-poster > .history-pill{
  position: absolute;
  inset: 0;
}

.card-poster > img{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  transform: scale(1.04);
  filter: brightness(0.95) saturate(1.05);
  transition: transform .25s ease, filter .25s ease;
}

.stream-card:hover .card-poster > img{
  transform: scale(1.10);
  filter: brightness(1.03) saturate(1.08);
}

.card-overlay{
  z-index: 2;
  background: linear-gradient(to top, rgba(0,0,0,0.92), rgba(0,0,0,0.05) 60%);
}

.card-info{
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: 10px;
  z-index: 3;
}

.card-title{
  font-size: 13px;
  font-weight: 950;
  line-height: 1.2;
  text-shadow: 0 8px 25px rgba(0,0,0,0.8);
  max-height: 2.4em;
  overflow: hidden;
}

.card-meta{
  margin-top: 7px;
  display:inline-flex;
  align-items:center;
  gap: 6px;
  font-size: 11px;
  font-weight: 900;
  color: rgba(229,231,235,0.92);
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--stroke2);
  background: rgba(0,0,0,0.35);
}

/* history pill */
.history-pill{
  z-index: 4;
  top: 10px;
  left: 10px;
  right: auto;
  bottom: auto;
  width: auto;
  height: auto;
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 10px;
  font-weight: 950;
  color: #fff;
  background: rgba(229,9,20,0.92);
  box-shadow: 0 14px 35px rgba(229,9,20,0.18);
}

/* -------------------------------
   SKELETON (lazy load)
--------------------------------- */
.stream-card.skeleton{
  cursor: default;
  border-color: rgba(255,255,255,0.08);
  box-shadow: none;
}
.stream-card.skeleton:hover{ transform:none; }

.skeleton .sk-box,
.skeleton .sk-line{
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.10),
    rgba(255,255,255,0.06)
  );
  background-size: 200% 100%;
  animation: shimmer 1.2s ease-in-out infinite;
}
@keyframes shimmer{
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
.skeleton .sk-box{
  position:absolute;
  inset:0;
  border-radius: var(--radius);
}
.skeleton .sk-line{
  height: 10px;
  border-radius: 999px;
  margin-top: 8px;
}
.skeleton .sk-line.short{ width: 65%; }

/* -------------------------------
   LAZY SENTINEL
--------------------------------- */
.lazy-sentinel{
  grid-column: 1 / -1;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  padding: 12px 0 90px;
  opacity: 0.9;
}
.lazy-text{ font-size: 12px; color: rgba(229,231,235,0.85); }

/* -------------------------------
   LOADING OVERLAY + SPINNER
--------------------------------- */
.loading-overlay{
  position: fixed;
  inset: 0;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction: column;
  z-index: 9999;
  background:
    radial-gradient(circle at center, rgba(11,15,23,0.92), rgba(11,15,23,0.98));
}
.loading-overlay.visible{ display:flex; }

.loader{
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,0.18);
  border-top-color: var(--accent);
  animation: spin .8s linear infinite;
  margin-bottom: 10px;
}
.loader.small{
  width: 26px;
  height: 26px;
  border-width: 2px;
}
@keyframes spin { to { transform: rotate(360deg); } }

.loading-text{
  font-size: 13px;
  color: rgba(229,231,235,0.85);
}

/* -------------------------------
   BOTTOM NAV (Netflix-ish)
--------------------------------- */
.bottom-nav{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 80;
  display:flex;
  justify-content: space-around;
  align-items:center;
  padding: 8px 10px calc(10px + env(safe-area-inset-bottom));
  background: linear-gradient(to top, rgba(11,15,23,0.98), rgba(11,15,23,0.85));
  border-top: 1px solid var(--stroke);
  backdrop-filter: blur(16px);
}

.bottom-nav .tab-btn{
  flex: 1;
  border: none;
  background: transparent;
  color: rgba(167,176,192,0.9);
  display:flex;
  flex-direction: column;
  align-items:center;
  justify-content:center;
  gap: 4px;
  padding: 6px 0;
  font-size: 11px;
  cursor:pointer;
  border-radius: 14px;
  transition: color .12s ease, background .12s ease, transform .12s ease;
}

.bottom-nav .tab-btn i{ font-size: 18px; }

.bottom-nav .tab-btn.active{
  color: #fff;
  background: rgba(229,9,20,0.12);
  border: 1px solid rgba(229,9,20,0.25);
  box-shadow: 0 0 18px rgba(229,9,20,0.18);
  transform: translateY(-1px);
}

/* -------------------------------
   MODAL DETAIL (player)
--------------------------------- */
.modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.72);
  display:none;
  align-items:center;
  justify-content:center;
  z-index: 1000;
  padding: 18px;
}
.modal-backdrop.visible{
  display:flex;
  animation: fadeIn .22s ease-out forwards;
}

@keyframes fadeIn{
  from { opacity: 0; transform: scale(1.02); }
  to { opacity: 1; transform: scale(1); }
}

.modal{
  position: relative;
  width: 100%;
  max-width: 920px;
  max-height: 92vh;
  background: rgba(15,22,35,0.96);
  border: 1px solid var(--stroke2);
  border-radius: 20px;
  box-shadow: 0 30px 100px rgba(0,0,0,0.92);
  overflow: hidden;
  display:flex;
  flex-direction: column;
}

.modal-close{
  position: absolute;
  top: 10px;
  right: 12px;
  border: none;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--stroke2);
  color: rgba(229,231,235,0.9);
  width: 34px;
  height: 34px;
  border-radius: 999px;
  font-size: 20px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.modal-close:hover{
  transform: scale(1.05);
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.12);
}

.modal-header{
  padding: 12px 14px 10px;
  border-bottom: 1px solid var(--stroke);
  display:flex;
  align-items:flex-start;
  gap: 10px;
}

.modal-meta{ flex: 1; min-width: 0; }
.modal-meta h2{
  font-size: 16px;
  font-weight: 950;
  line-height: 1.2;
}

.episode-pill-btn{
  margin-top: 8px;
  border: 1px solid var(--stroke2);
  background: rgba(0,0,0,0.25);
  color: rgba(229,231,235,0.95);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 900;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap: 6px;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.episode-pill-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.10);
}
.episode-pill-btn i{ font-size: 16px; }

.modal-body{
  padding: 12px 14px 14px;
  display:flex;
  gap: 12px;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

.modal-player{
  flex: 1;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* vertical reels frame */
.video-shell{
  position: relative;
  aspect-ratio: 9 / 16;
  width: min(380px, 100%);
  max-height: 78vh;
  border-radius: 18px;
  overflow:hidden;
  background: #000;
  box-shadow: 0 22px 70px rgba(0,0,0,0.9);
  border: 1px solid rgba(255,255,255,0.12);
}

.video-shell video{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
  background:#000;
}

/* hide native control (best effort) */
video::-webkit-media-controls { display: none !important; }

.video-overlay-top,
.video-overlay-bottom{
  position:absolute;
  left:0;
  right:0;
  pointer-events:none;
}
.video-overlay-top{
  top:0;
  height: 90px;
  background: linear-gradient(to bottom, rgba(0,0,0,0.55), transparent);
}
.video-overlay-bottom{
  bottom:0;
  height: 140px;
  background: linear-gradient(to top, rgba(0,0,0,0.92), transparent);
}

/* controls */
.video-controls{
  position:absolute;
  left: 10px;
  right: 10px;
  bottom: 10px;
  z-index: 20;
  display:flex;
  align-items:center;
  gap: 10px;
  color: rgba(229,231,235,0.95);
  font-size: 12px;
}

.vc-btn{
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.35);
  color: rgba(229,231,235,0.95);
  width: 34px;
  height: 34px;
  border-radius: 999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.vc-btn i{ font-size: 18px; }
.vc-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.10);
}

.vc-time{
  flex: 1;
  display:flex;
  align-items:center;
  gap: 8px;
}

#seekBar{
  flex: 1;
  -webkit-appearance: none;
  appearance: none;
  height: 4px;
  border-radius: 999px;
  background: rgba(255,255,255,0.16);
  outline: none;
}
#seekBar::-webkit-slider-thumb{
  -webkit-appearance: none;
  appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: var(--accent);
  box-shadow: 0 0 0 4px rgba(229,9,20,0.25);
}
#seekBar::-moz-range-thumb{
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: var(--accent);
  border: none;
}

.vc-right{ display:flex; align-items:center; gap: 6px; }

/* player loading overlay */
.player-loading{
  position:absolute;
  inset:0;
  background: rgba(11,15,23,0.72);
  display:flex;
  flex-direction: column;
  align-items:center;
  justify-content:center;
  gap: 8px;
}
.player-loading.hidden{ display:none; }

/* -------------------------------
   EPISODE BOTTOM SHEET
--------------------------------- */
.episode-modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(10px);
  display:none;
  align-items:flex-end;
  justify-content:center;
  z-index: 1100;
}
.episode-modal-backdrop.visible{
  display:flex;
  animation: fadeIn .22s ease-out forwards;
}

.episode-modal{
  width: 100%;
  max-width: 760px;
  max-height: 72vh;
  background: rgba(15,22,35,0.98);
  border: 1px solid var(--stroke2);
  border-radius: 22px 22px 0 0;
  box-shadow: 0 -22px 80px rgba(0,0,0,0.92);
  padding: 12px 14px 14px;
  transform: translateY(26px);
  animation: episodeUp .25s ease-out forwards;
  display:flex;
  flex-direction: column;
}
@keyframes episodeUp{
  from{ opacity: 0; transform: translateY(40px); }
  to{ opacity: 1; transform: translateY(0); }
}

.episode-modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}
.episode-modal-header span{
  font-size: 13px;
  font-weight: 950;
}
.episode-modal-close{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.04);
  color: rgba(229,231,235,0.9);
  width: 34px;
  height: 34px;
  border-radius: 999px;
  cursor:pointer;
}
.episode-modal-close:hover{
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.10);
}

.episode-grid{
  flex: 1;
  overflow-y: auto;
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(128px, 1fr));
  gap: 10px;
  padding-right: 2px;
}
.episode-grid::-webkit-scrollbar{ width: 3px; }
.episode-grid::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.16);
  border-radius: 999px;
}

.episode-card{
  border-radius: 14px;
  padding: 10px;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--stroke);
  color: rgba(229,231,235,0.95);
  cursor:pointer;
  text-align:left;
  display:flex;
  flex-direction: column;
  gap: 4px;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.episode-card:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.28);
  background: rgba(229,9,20,0.08);
}
.episode-card.active{
  border-color: rgba(229,9,20,0.5);
  background: rgba(229,9,20,0.18);
}
.ep-number{ font-weight: 950; }
.ep-title{ font-size: 11px; color: rgba(229,231,235,0.85); }
.ep-badge{
  align-self:flex-start;
  margin-top: 3px;
  font-size: 10px;
  font-weight: 900;
  padding: 3px 8px;
  border-radius: 999px;
  background: rgba(34,197,94,0.12);
  border: 1px solid rgba(34,197,94,0.25);
  color: rgba(187,247,208,0.95);
}

/* -------------------------------
   GENRE MODAL
--------------------------------- */
.genre-modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(10px);
  z-index: 1200;
  display:none;
  align-items:center;
  justify-content:center;
  padding: 16px;
}
.genre-modal-backdrop.visible{
  display:flex;
  animation: fadeIn .22s ease-out forwards;
}
.genre-modal{
  width: 100%;
  max-width: 540px;
  background: rgba(15,22,35,0.98);
  border: 1px solid var(--stroke2);
  border-radius: 20px;
  box-shadow: 0 30px 100px rgba(0,0,0,0.92);
  overflow:hidden;
}
.genre-modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 12px 14px;
  border-bottom: 1px solid var(--stroke);
}
.genre-modal-header span{ font-size: 13px; font-weight: 950; }
.genre-modal-close{
  border: 1px solid var(--stroke2);
  background: rgba(255,255,255,0.04);
  color: rgba(229,231,235,0.9);
  width: 34px;
  height: 34px;
  border-radius: 999px;
  cursor:pointer;
}
.genre-modal-close:hover{
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.10);
}
.genre-modal-body{ padding: 12px 14px 14px; }
.genre-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}
.genre-chip{
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.04);
  color: rgba(229,231,235,0.95);
  padding: 11px 10px;
  font-weight: 950;
  font-size: 12px;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, background .12s ease;
}
.genre-chip:hover{
  transform: translateY(-1px);
  border-color: rgba(229,9,20,0.35);
  background: rgba(229,9,20,0.10);
}

/* -------------------------------
   SEARCH MODAL + SUGGEST
--------------------------------- */
.search-modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(10px);
  z-index: 1300;
  display:none;
  align-items:flex-start;
  justify-content:center;
  padding-top: 80px;
}
.search-modal.visible{
  display:flex;
  animation: fadeIn .18s ease-out forwards;
}

.search-modal-box{
  width: 92%;
  max-width: 460px;
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 12px 12px;
  border-radius: 18px;
  border: 1px solid var(--stroke2);
  background: rgba(15,22,35,0.96);
  box-shadow: 0 20px 70px rgba(0,0,0,0.85);
  position: relative;
  transform: translateY(18px);
  opacity: 0;
  animation: searchUp .22s ease-out forwards;
}
@keyframes searchUp{
  to { transform: translateY(0); opacity: 1; }
}

.search-modal-box input{
  flex: 1;
  height: 42px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,0.25);
  color: rgba(229,231,235,0.95);
  padding: 0 12px;
  font-size: 14px;
  outline:none;
}
.search-modal-box input::placeholder{ color: rgba(167,176,192,0.75); }

.search-modal-box button{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(229,9,20,0.25);
  background: rgba(229,9,20,0.92);
  color: #fff;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform .12s ease, box-shadow .12s ease;
}
.search-modal-box button i{ font-size: 18px; }
.search-modal-box button:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 35px rgba(229,9,20,0.22);
}

/* suggest dropdown */
.suggest-list{
  position: absolute;
  left: 12px;
  right: 12px;
  top: calc(100% + 10px);
  border-radius: 16px;
  border: 1px solid var(--stroke2);
  background: rgba(15,22,35,0.98);
  overflow:hidden;
  box-shadow: 0 20px 70px rgba(0,0,0,0.85);
  max-height: 320px;
  overflow-y: auto;
}
.suggest-item{
  padding: 12px 12px;
  font-size: 13px;
  cursor:pointer;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  color: rgba(229,231,235,0.95);
  transition: background .12s ease;
}
.suggest-item:hover{
  background: rgba(229,9,20,0.10);
}
.suggest-item:last-child{ border-bottom: none; }

/* -------------------------------
   BACKWARD COMPAT (kalau masih ada style lama)
--------------------------------- */
.video-card{ display:block; } /* biar ga hilang kalau masih dipakai */
.card-inner{ position: relative; }

/* iOS ratio fix untuk card-inner juga */
.card-inner::before{
  content:"";
  display:block;
  padding-top: 150%;
}
.card-inner > .card-cover,
.card-inner > .card-gradient,
.card-inner > .card-corner,
.card-inner > .card-info,
.card-inner > .card-actions{
  position:absolute;
}
.card-inner > .card-cover,
.card-inner > .card-gradient{
  inset:0;
}
.card-inner > .card-info{ left: 8px; right: 8px; bottom: 6px; }
.card-inner > .card-actions{ right: 6px; bottom: 6px; }

/* -------------------------------
   RESPONSIVE
--------------------------------- */
@media (max-width: 768px){
  .hero-bg{ inset: 10px 10px 8px 10px; border-radius: 20px; }
  .hero-content{ padding: 20px 14px 16px; }

  .hero-title{ font-size: 20px; }
  .filters{ padding: 8px 10px; }
  .grid-feed{
    padding: 10px 10px 125px;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 10px;
  }

  .video-shell{
    width: 100%;
    max-width: 420px;
    max-height: 80vh;
  }

  .ad-floating{ bottom: 76px; }
  .genre-grid{ grid-template-columns: 1fr; }
}
